{% extends 'dashboard-panel/dashboard.html' %}
{% load static %}

{% block content %}
<div class="main-content">
  <div style="max-width: 800px; background: #F2E8D5; 
              padding: 30px; border-radius: 15px; 
              border: solid 0.5px #D8C3A5;
              box-shadow: 0 4px 8px rgba(216, 195, 165, 0.5);
              margin-left: 20px;">
    <h2 style="color: #5A3E2B; margin-bottom: 25px;">Crear Nuevo Producto</h2>
    
    <form method="post" action="{% url 'create-product' %}" enctype="multipart/form-data">
        {% csrf_token %}
    
        <div class="row">
            <!-- Columna izquierda -->
            <div class="col-md-6">
                <div class="mb-3">
                    <label style="color: #5A3E2B;" for="name" class="form-label">Nombre del Producto</label>
                    <input type="text" class="form-control" id="name" name="name" 
                           value="{{ form.name.value|default_if_none:'' }}" 
                           placeholder="Ingresa el nombre del producto"
                           required
                           minlength="8"
                           maxlength="250">
                    {% if form.name.errors %}
                        <div class="text-danger">{{ form.name.errors }}</div>
                    {% endif %}
                </div>

                <div class="mb-3">
                    <label style="color: #5A3E2B;" for="description" class="form-label">Descripción</label>
                    <textarea class="form-control" id="description" name="description" 
                              rows="3" placeholder="Escribe una descripción..."
                              required
                              minlength="8"
                              maxlength="250">{{ form.description.value|default_if_none:'' }}</textarea>
                    {% if form.description.errors %}
                        <div class="text-danger">{{ form.description.errors }}</div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Columna derecha -->
            <div class="col-md-6">
                <div class="mb-3">
                    <label style="color: #5A3E2B;" for="price" class="form-label">Precio</label>
                    <input type="number" class="form-control" id="price" name="price" 
                           value="{{ form.price.value|default_if_none:'' }}" 
                           placeholder="Ej: 9990"
                           required
                           min="1"
                           max="9999999">
                    {% if form.price.errors %}
                        <div class="text-danger">{{ form.price.errors }}</div>
                    {% endif %}
                </div>

                <div class="mb-3">
                    <label style="color: #5A3E2B;" for="image" class="form-label">Imagen del Producto (URL)</label>
                    <input type="url" class="form-control" id="image" name="image" 
                           value="{{ form.image.value|default_if_none:'' }}"
                           placeholder="https://ejemplo.com/imagen.jpg"
                           required>
                    {% if form.image.errors %}
                        <div class="text-danger">{{ form.image.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button type="submit" class="btn btn-primary me-md-2">Crear Producto</button>
                    <a href="{% url 'list-products' %}" class="btn btn-secondary">Cancelar</a>
                </div>
            </div>
        </div>
    </form>
  </div>
</div>

<style>
  .main-content {
    margin-left: 280px; /* Igual al ancho del sidebar */
    padding: 20px;
  }
  
  .sidebar {
    position: fixed;
    height: 100%;
    top: 0;
    left: 0;
  }
  
  @media (max-width: 768px) {
    .main-content {
      margin-left: 0;
    }
    
    .sidebar {
      width: 100%;
      position: relative;
    }
  }
</style>
{% endblock %}